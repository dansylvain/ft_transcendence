<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
	<i class="fas fa-angle-up"></i>
</a>

<!-- Logout Modal-->
<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
	aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 data-translate="Ready to Leave?" class="modal-title" id="exampleModalLabel">
					Ready to Leave?
				</h5>
				<button class="close" type="button" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">×</span>
				</button>
			</div>
			<div data-translate="Logout-leave" class="modal-body">
				Select "Logout" below if you are ready to end your current session.
			</div>
			<div class="modal-footer">
				<button class="btn btn-secondary" type="button" data-translate="cancel" data-dismiss="modal">
					Cancel
				</button>
				<!-- !! ACTUAL LOGOUT BUTTON  -->
				<button class="btn btn-primary" data-translate="Logout" onclick="logoutUser()">
					Logout
				</button>
				<!-- !! ACTUAL LOGOUT BUTTON  -->
			</div>
		</div>
	</div>
</div>
</div>

<!-- Add JavaScript for logout functionality -->
<script>
    function logoutUser() {
        // Create a fetch request to logout endpoint
        fetch('/auth/logout/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            credentials: 'same-origin' // Important for cookies
        })
        .then(response => {
            // Check if we have a redirect header
            const redirectUrl = response.headers.get('HX-Redirect');
            if (redirectUrl) {
                window.location.href = redirectUrl;
            } else {
                // Fallback redirect to login page
                window.location.href = '/login';
            }
        })
        .catch(error => {
            console.error('Logout error:', error);
            // Fallback redirect even if there's an error
            window.location.href = '/login';
        });
    }
</script>

<!-- 

<div class="modal fade" 
id="logoutModal" 
tabindex="-1" 
role="dialog" 
aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 data-translate="Ready to Leave?" 
                class="modal-title" 
                Ready to Leave?
                </h5>
                <button class="close" 
                type="button" 
                data-dismiss="modal" 
                aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div data-translate="Logout-leave" 
            class="modal-body">
                Select "Logout" below if you are ready to end your current session.
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" 
                type="button" 
                data-translate="cancel"
                data-dismiss="modal">
                Cancel
                </button>
                
                <button
                data-dismiss="modal"
                id="modal-logout"
                hx-trigger="click"
                hx-push-url="true"
                hx-get="/register/"
                hx-target="body"
                class="btn btn-primary"
                href=""
                data-translate="Logout">Logout
            </button>
            </div>
        </div>
    </div>
    
    -->