{% load static %}
<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <nav class="col-md-3 col-lg-2 d-md-block bg-light sidebar p-3 shadow-sm">
      <div class="sidebar-sticky text-center">
        <!-- Account Settings Title -->
        <h1 class="h3 mb-3 text-gray-800">Account Settings</h1>
        <ul class="nav flex-column">
          <!-- Profile Button -->
          <li class="nav-item mb-3">
            <a
              id="acc-profile"
              class="nav-link btn btn-outline-primary btn-sm rounded-pill w-100 d-flex align-items-center justify-content-center sidebar-btn"
              href="#"
              hx-get="/account/profile/"
              hx-target="#account-content"
              hx-swap="innerHTML"
              hx-push-url="true"
            >
              <i class="fas fa-user-circle me-2"></i> Profile
            </a>
          </li>
          <!-- Confidentiality Button -->
          <li class="nav-item mb-3">
            <a
              id="acc-stats"
              class="nav-link btn btn-outline-primary btn-sm rounded-pill w-100 d-flex align-items-center justify-content-center sidebar-btn"
              href="#"
              hx-get="/account/game-stats/"
              hx-target="#account-content"
              hx-swap="innerHTML"
              hx-push-url="true"
            >
              <i class="fas fa-trophy me-2"></i> Game Stats
            </a>
          </li>
          <!-- Security Button -->
          <li class="nav-item mb-3">
            <a
              id="acc-security"
              class="nav-link btn btn-outline-primary btn-sm rounded-pill w-100 d-flex align-items-center justify-content-center sidebar-btn"
              href="#"
              hx-get="/account/security/"
              hx-target="#account-content"
              hx-swap="innerHTML"
              hx-push-url="true"
            >
              <i class="fas fa-shield-alt me-2"></i> Security
            </a>
          </li>
          <!-- Confidentiality Button -->
          <li class="nav-item mb-3">
            <a
              id="acc-conf"
              class="nav-link btn btn-outline-primary btn-sm rounded-pill w-100 d-flex align-items-center justify-content-center sidebar-btn"
              href="#"
              hx-get="/account/confidentiality/"
              hx-target="#account-content"
              hx-swap="innerHTML"
              hx-push-url="true"
            >
              <i class="fas fa-user-shield me-2"></i>
              Confidentiality
            </a>
          </li>
        </ul>
      </div>
    </nav>
    <!-- Main Content -->
    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
      <!-- Content dynamically loaded here -->
      <div id="account-content">
        {% if page %} {% include page %} {% else %}
        <p></p>
        {% endif %}
      </div>
    </main>
  </div>
</div>

<script src="https://kit.fontawesome.com/a076d05399.js"></script>
<style>
  .sidebar-btn {
    font-size: 0.85rem;
    padding: 0.5rem 1rem;
    border-width: 2px;
    transition: background-color 0.3s, color 0.3s, border-color 0.3s;
  }
  .sidebar-btn.active,
  .sidebar-btn:focus {
    color: white !important;
  }
  .btn-outline-primary {
    border-color: #007bff;
    color: #007bff;
  }
  .btn-outline-primary.active,
  .btn-outline-primary:focus {
    background-color: #007bff !important;
    border-color: #007bff !important;
  }
  .sidebar-btn:hover {
    background-color: #007bff;
    color: white;
    border-color: #0056b3;
  }
  .sidebar {
    width: 250px;
  }
  main {
    margin-left: 260px;
  }
</style>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const buttons = document.querySelectorAll(".sidebar-btn");

    buttons.forEach((button) => {
      button.addEventListener("click", function () {
        buttons.forEach((btn) => btn.classList.remove("active"));
        this.classList.add("active");
      });
    });
  });
</script>
