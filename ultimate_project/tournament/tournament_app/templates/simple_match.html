{% load static %}
<div style="display:none;">

    <head>
        <!-- <link rel="stylesheet" href="{% static 'tournament/styles.css' %}"> -->
        <script>
            window.rasp = "{{ rasp }}";
            window.pidom = "{{ pidom }}";
            window.selfId = "{{ user_id }}";
            window.selfName = "{{ user_name }}";							
        </script>
        <script src="{% static 'tournament/simple_match.js' %}" onload="initSimpleMatch()"></script>
    </head>
</div>

<div class="container-fluid m-0">
    <div class="m-0 p-0">
        <div class="row">
            <!-- Sidebar -->
            <nav class="sidebar col-0 col-sm-4 col-md-3 col-lg-3 col-xl-2 d-none d-sm-block shadow-sm m-0 p-0"
                style="min-height: 75vh; position: sticky; top: 0; overflow-y: auto;">
                <div class="sidebar-sticky text-center">
                    <!-- Account Settings Title -->
                    <div class="h-50">
                        <h1 data-translate="Match" class="pt-2"><strong>Match</strong></h1>
                        <ul class="nav flex-column">
                            <!-- Profile Section -->
                            <li class="nav-item m-2">
                                <a id="side-nav-home"
                                    class="nav-link btn-sm rounded-pill w-100 d-flex align-items-center justify-content-center sidebar-btn"
                                    hx-get="/home/" hx-target="#main_div" hx-swap="innerHTML" hx-push-url="true">
                                    <i class="mr-2 fa-solid fa-house"></i>
                                    <h5 class="mb-0" data-translate="Home">Home</h5>
                                </a>
                            </li>
                            <li class="nav-item m-2">
                                <a id="side-nav-tournament"
                                    class="nav-link btn-sm rounded-pill w-100 d-flex align-items-center justify-content-center sidebar-btn"
                                    hx-get="/tournament/tournament/" hx-target="#main_div" hx-swap="innerHTML"
                                    hx-push-url="true">
                                    <i class="mr-2 fa-solid fa-trophy"></i>
                                    <h5 class="mb-0" data-translate="Tournament">Tournament</h5>
                                </a>
                            </li>
                            <li id="side-nav-info" class="nav-item m-2">
                                <div id="overlayButton" onclick="replayTuto()"
                                    class="nav-link rounded-pill w-100 d-flex align-items-center justify-content-center sidebar-btn flo_class">
                                    <i class="mr-2 fas fa-info-circle"></i>
                                        <h5 class="mb-0" data-translate="Info">Info</h5>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="h-100 m-0 p-0 mt-5" style="position: relative; overflow: hidden;">
                        <img src="https://dansylvain.github.io/pictures/peopleH.jpg" style="
                               position: absolute;
                               top: 0;
                               left: 0;
                               width: 100%;
                               height: 100%;
                               object-fit: cover;
                               object-position: center;
                               -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1));
                               mask-image: linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1));
                               -webkit-mask-size: 100% 100%;
                               mask-size: 100% 100%;
                               mask-repeat: no-repeat;
                               -webkit-mask-repeat: no-repeat;
                             ">
                    </div>
                </div>
            </nav>
            <a class="tuto-overlay" id="tuto-overlay">
                <div class="tuto-box">
                    <img src="https://dansylvain.github.io/pictures/SylvainDurifOmbaya.webp" alt="Tutoriel" />
                    <button onclick="document.getElementById('tuto-overlay').style.display='none'"
                    data-translate="Close"
                        class="btn btn-danger mt-3">Close</button>
                </div>
            </a>
            <!-- Main Content -->
            <main role="main" class="col-12 col-md-9 col-sm-8 ml-sm-auto col-lg-9 col-xl-10 p-0 m-0">
                <!-- Content dynamically loaded here -->
                <div id="account-content" class="title_color">
                    <div id="simple-selections" class="title_color container-fluid m-0 p-0">
                        <div class="pt-5 row d-flex">
                            <div class="col-lg-2 d-flex flex-column"></div>
                            <div class="col-lg-4">
                                <div class="card shadow mb-4">
                                    <div class="card-header py-3">
                                        <h6 data-translate="Player Pool" class="mb-0 text-center font-weight-bold">Player Pool</h6>
                                    </div>
                                </div>
                                <div class="card-header p-0">
                                    <div class="card-header mb-1">
                                        <h6 data-translate="Local Match" class="mb-0 text-center font-weight-bold">Local Match</h6>
                                    </div>
                                    <div class="d-flex flex-column gap-2 m-2">
                                            <input class="m-2 w-auto background_color form-control border-0 text_color_text"
                                            id="match-player-name" type="text" maxlength="20" pattern=".{1,50}" required
                                            placeholder="enter a name"
                                            oninput="this.value = this.value.replace(/[^a-zA-Z0-9_]/g, '');" />
                                        <button onclick="newLocalMatch();"
                                            class="text_color btn d-flex align-items-center justify-content-between w-100">
                                            <span data-translate="Add Player" class="text background_color_text">Add Player</span>
                                            <span class="navbars_color_text icon text-white-50">
                                                <i class="fas fa-arrow-right"></i>
                                            </span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="card shadow mb-4">
                                    <div class="card-header py-3">
                                        <h6 data-translate="Match" class="m-0 text-center font-weight-bold ">Match</h6>
                                    </div>
                                </div>
                                <div class="d-sm-none card shadow">
                                    <div class="card-header py-3">
                                        <div id="overlayButton" onclick="replayTuto()"
                                            class="nav-link btn btn-outline-primary btn-sm rounded-pill w-100 d-flex align-items-center justify-content-center sidebar-btn">
                                            <span class="flo_class"><i class="fas fa-info-circle"></i>INFO</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="p-2 card shadow">
                                    <a id="switch2d3d"
                                        class="font-weight-bold  nav-link btn btn-outline-primary btn-sm rounded-pill w-100 d-flex align-items-center justify-content-center sidebar-btn">
                                        <span class="mr-2">2D</span>
                                        <label for="dim" class="switch">
                                            <input type="checkbox" id="dim" class="mb-0" hidden>
                                            <span class="slider mb-0"></span>
                                        </label>
                                        <!-- <span class="ml-2">3D</span> -->
                                        <span class="ml-2 cube-wrapper">
											<div class="cube">
											  <div class="face front">3D</div>
											  <div class="face back"></div>
											  <div class="face right"></div>
											  <div class="face left"></div>
											  <div class="face top"></div>
											  <div class="face bottom"></div>
											</div>
										  </span>
                                    </a>
                                </div>

                            </div>
                        </div>
                        <div class="row d-flex align-items-stretch pt-5">
                            <div class="col-lg-2 d-flex flex-column"></div>
                            <div class="col-lg-4 mb-4">
                                <div class="card-header  mb-1">
                                    <h6 data-translate="Remote Match" class="mb-0 text-center font-weight-bold">Remote Match</h6>
                                </div>
                                <div class="card shadow h-100">
                                    <div id="players" class="card-body p-2">
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 mb-4">
                                <div class="card shadow mb-4 h-100">
                                    <div class="card-body">
                                        <div id="matchs">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 d-flex flex-column"></div>
                        </div>
                        <div id="overlay-match"></div>
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>
<script>
    if (typeof dim === 'undefined') {
        const dim = document.getElementById('dim');
    }
    Object.defineProperty(dim, 'value', {
        get() {
            return dim.checked ? '3' : '2';
        }
    });
</script>

<style>
	.cube-wrapper {
	  display: inline-block;
	  perspective: 500px;
	  width: 2.5em;
	  height: 2em;
	  margin: 0 5px;
	}
	
	.cube {
	  width: 100%;
	  height: 100%;
	  position: relative;
	  transform-style: preserve-3d;
	  transform: rotateX(15deg) rotateY(15deg);
	  animation: cube-rotate 4s ease-in-out infinite;
	}
	
	.face {
	  position: absolute;
	  width: 100%;
	  height: 100%;
	  display: flex;
	  align-items: center;
	  justify-content: center;
	  font-weight: bold;
	  color: white;
	  border-radius: 2px;
	}
	
	.front {
	  background: #2d88ff;
	  transform: translateZ(1em);
	}
	
	.back {
	  background: #2d88ff;
	  transform: translateZ(-1em) rotateY(180deg);
	  opacity: 0.8;
	}
	
	.right {
	  background: #0e4fa7;
	  transform: translateX(1em) rotateY(90deg);
	  width: 2em;
	  left: -1em;
	  opacity: 0.9;
	}
	
	.left {
	  background: #0e4fa7;
	  transform: translateX(-1em) rotateY(-90deg);
	  width: 2em;
	  right: -1em;
	  opacity: 0.9;
	}
	
	.top {
	  background: #3a94ff;
	  transform: translateY(-1em) rotateX(90deg);
	  height: 2em;
	  top: 1em;
	  opacity: 0.85;
	}
	
	.bottom {
	  background: #1a6ed1;
	  transform: translateY(1em) rotateX(-90deg);
	  height: 2em;
	  bottom: 1em;
	  opacity: 0.85;
	}
	
	@keyframes cube-rotate {
	  0% { transform: rotateX(15deg) rotateY(15deg); }
	  25% { transform: rotateX(25deg) rotateY(45deg); }
	  50% { transform: rotateX(15deg) rotateY(75deg); }
	  75% { transform: rotateX(5deg) rotateY(45deg); }
	  100% { transform: rotateX(15deg) rotateY(15deg); }
	}
  </style>
<!-- Add FontAwesome Icons -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="{% static 'tournament/tuto-overlay.js' %}"></script>